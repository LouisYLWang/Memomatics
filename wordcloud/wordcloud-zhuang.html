<html>
    <head>
        <meta charset="utf-8">
        <script src='https://cdn.bootcss.com/echarts/3.7.2/echarts.simple.js'></script>
        <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
        <script src='../dist/echarts-wordcloud.js'></script>
    </head>
    <body>
        <style>
            html, body, #main {
                width: 100%;
                height: 100%;
                margin: 0;
            }
        </style>
        <div id='main'></div>
        <script>
            var chart = echarts.init(document.getElementById('main'));

            var keywords = {'哈哈哈': 9588,
                            '觉得': 5467,
                            '这个': 5117,
                            '哈哈哈哈': 4395,
                            '不是': 4388,
                            '就是': 4110,
                            '但是': 3824,
                            '一个': 3802,
                            '没有': 3539,
                            '捂脸': 3398,
                            '红红': 2763,
                            '我们': 2674,
                            '可以': 2497,
                            '然后': 2384,
                            '还是': 2288,
                            '拥抱': 2224,
                            '因为': 2139,
                            '知道': 2121,
                            '感觉': 1914,
                            '自己': 1909,
                            '那个': 1860,
                            '可能': 1791,
                            '什么': 1778,
                            '应该': 1655,
                            '现在': 1628,
                            '这么': 1594,
                            '晚安': 1578,
                            '其实': 1552,
                            '一下': 1514,
                            '真的': 1409,
                            '哈哈': 1382,
                            '已经': 1352,
                            '所以': 1343,
                            '明天': 1338,
                            '这样': 1299,
                            '时候': 1260,
                            '而且': 1235,
                            '奸笑': 1218,
                            '今天': 1169,
                            '恩恩': 1131,
                            '怎么': 1128,
                            '是不是': 1074,
                            '好像': 1051,
                            '问题': 1043,
                            '皱眉': 1013,
                            '还有': 1011,
                            '不会': 1002,
                            '出来': 988,
                            '有点': 951,
                            '肯定': 945,
                            '一样': 936,
                            '如果': 892,
                            '那么': 865,
                            '不能': 861,
                            '为啥': 840,
                            '特别': 831,
                            '他们': 794,
                            '之前': 781,
                            '一些': 762,
                            '看到': 756,
                            '东西': 731,
                            '反正': 723,
                            '这种': 719,
                            '不要': 700,
                            '只是': 690,
                            '刚刚': 689,
                            '..': 682,
                            '爱心': 680,
                            '时间': 673,
                            '不行': 666,
                            '比较': 660,
                            '一直': 659,
                            '记得': 657,
                            '看看': 638,
                            '不用': 630,
                            '不过': 619,
                            '你们': 617,
                            '或者': 609,
                            '一点': 601,
                            '以后': 562,
                            '发现': 559,
                            '起来': 551,
                            '晚上': 551,
                            '以为': 547,
                            '直接': 539,
                            '开始': 536,
                            '居然': 531,
                            '没事儿': 525,
                            '两个': 509,
                            '事情': 507,
                            '本来': 503,
                            '一起': 491,
                            '回来': 489,
                            '喜欢': 487,
                            '完全': 484,
                            '突然': 475,
                            '结果': 473,
                            '过去': 471,
                            '需要': 471,
                            '老师': 467,
                            '不好': 465,
                            '吃饭': 464,
                            '明白': 461,
                            '当时': 449,
                            '流泪': 445,
                            '北京': 436,
                            '卧槽': 436,
                            '一定': 430,
                            '虽然': 428,
                            '一会儿': 423,
                            '真是': 420,
                            '中国': 419,
                            '一般': 415,
                            '很多': 415,
                            '原来': 404,
                            '主要': 404,
                            '项目': 402,
                            '学校': 396,
                            '最后': 395,
                            '估计': 393,
                            '大家': 391,
                            '手机': 390,
                            '布道': 382,
                            '那种': 376,
                            '根本': 375,
                            '电脑': 374,
                            '地方': 368,
                            '不然': 366,
                            '咱俩': 366,
                            '有没有': 363,
                            '好多': 360,
                            '准备': 358,
                            '差不多': 358,
                            '不想': 357,
                            '闭嘴': 357,
                            '美国': 351,
                            '没事': 349,
                            '嗷嗷': 348,
                            '只有': 344,
                            '是因为': 343,
                            '嘻嘻': 342,
                            '小时': 339,
                            '别人': 339,
                            '哪里': 333,
                            '找到': 320,
                            '哪儿': 319,
                            '意思': 319,
                            '工作': 317,
                            '公司': 317,
                            '一次': 317,
                            '情况': 315,
                            '理解': 315,
                            '有些': 312,
                            '好好': 312,
                            '别的': 309,
                            '下午': 308,
                            '要是': 307,
                            '一天': 307,
                            '办法': 306,
                            '回去': 304,
                            '多少': 303,
                            '电影': 303,
                            '可怜': 303,
                            '这些': 301,
                            '学习': 300,
                            '系统': 299,
                            '可爱': 299,
                            '说话': 298,
                            '视频': 298,
                            '昨天': 297,
                            '表情': 296,
                            '的话': 295,
                            '希望': 294,
                            '不到': 294,
                            '不了': 293,
                            '试试': 291,
                            '当然': 290,
                            '一种': 289,
                            '发抖': 280,
                            '发呆': 280,
                            '后来': 279,
                            '想法': 277,
                            '啊啊啊': 277,
                            '马上': 274,
                            '可是': 273,
                            '大概': 273,
                            '告诉': 271,
                            '事儿': 270,
                            '__': 268,
                            '好看': 267,
                            '等等': 267,
                            '只能': 265,
                            '刚才': 264,
                            '代码': 263,
                            '确实': 261,
                            '想想': 260,
                            '问问': 259,
                            '加油': 259,
                            '早安': 257,
                            '睡觉': 255};

            var data = [];
            for (var name in keywords) {
                data.push({
                    name: name,
                    value: Math.sqrt(keywords[name])
                })
            }

            var maskImage = new Image();
            var colors = ['rgb(217,78,93)', 'rgb(224,126,77)', 'rgb(231,175,62)', 'rgb(203,192,80)', 'rgb(142,177,133)', 'rgb(80,163,186)']
            function a () {
                                return './z_avatar/' + [
                                Math.floor(Math.random()*10)
                                ].join('') + '.jpg';
                            }
            var option = {
                graphic: 
                {
                        type: 'image',
                        id: 'logo',
                        right: '3%',
                        top: '30%',
                        z: 10,
                        bounding: 'raw',
                        draggable: false,
                        style: {
                            image: a(),
                            width: 100,
                            height: 100,
                            opacity: 1
                        }
                },
                series: [ {
                    type: 'wordCloud',
                    sizeRange: [5, 100],
                    rotationRange: [-90, 90],
                    rotationStep: 45,
                    gridSize: 2,
                    maskImage: maskImage,
                    drawOutOfBound: false,
                    textStyle: {
                        normal: {
                            color: function () {
                                return colors[Math.floor(Math.random()*colors.length)];
                            },
                        },
                        emphasis: {
                            color: '#98e165'
                        }
                    },
                    data: data.sort(function (a, b) {
                        return b.value  - a.value;
                    })
                } ]
            };

            maskImage.onload = function () {
                option.series[0].maskImage
                chart.setOption(option);
            }

            maskImage.src = './shape_zhuang.png';

            window.onresize = function () {
                chart.resize();
            }

        </script>
    </body>
</html>